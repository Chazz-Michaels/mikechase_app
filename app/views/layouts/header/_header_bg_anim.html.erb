
<canvas id="myAnimation"></canvas>

<script>

var canvas = document.getElementById('myAnimation');
var ctx = canvas.getContext('2d');

var bgBlue = '#143c7f';
//old bgGreen = #8c967e
var bgGreen = '#1c2e03';
var bgPurple = '#2d1e64';
var bgGray = '#ebe9f1';

var green = '#8fe612';
var blue = '#2979ff';
var purple = '#5B3CC8';
var black = '#090614';

canvas.style.backgroundColor = bgBlue;

canvas.width = window.innerWidth;
canvas.height = window.innerHeight/4;

ctx.filter = 'blur(1px)';


// Top Dots ===================================================== //
var dotX = 10;
var dotY = 10;
var dotRadius = 5;
var moveX = 20;
//var moveY = 20;
var moveY = canvas.height/12;
var dotXReset = 10;
var dotYReset = 10;

var erase = false;

// Make a dot top
function drawDot(){
  changeColor();
  dotRadius = Math.random()*8;
  ctx.beginPath();
  ctx.arc(dotX, dotY, dotRadius, 0, 2*Math.PI, false);
  ctx.stroke();
}

// Make lots of dots starting on from the top
function drawLotsOfDotsTop(){
  if(dotX <= canvas.width){
    drawDot();
    dotX += moveX;
  }else{
    dotX = dotXReset;
    dotY += moveY;
    drawDot();
  }
}
// ============================================================== //


// Bottom Dots ===================================================//
var dotXB = canvas.width - 10;
var dotYB = canvas.height - 10;
var moveXB = 20;
//var moveYB = 20;
var moveYB = canvas.height/12;
var dotXResetB = canvas.width - 10;
var dotYResetB = canvas.height - 10;

// Make a dot bottom
function drawDotB(){
  changeColor();
  dotRadius = Math.random()*8;
  ctx.beginPath();
  ctx.arc(dotXB, dotYB, dotRadius, 0, 2*Math.PI, false);
  ctx.stroke();
}

// Make lots of dots starting on from the bottom
function drawLotsOfDotsBottom(){
  if(dotXB > 0){
    drawDotB();
    dotXB -= moveXB;
  }else{
    dotXB = dotXResetB;
    dotYB -= moveYB;
    drawDotB();
  }
}

// ============================================================== //

// Choose random color for Dots
function changeColor(){
  let x = Math.random()*4;
  if(x > 0 && x < 1){ctx.strokeStyle = green}
  if(x > 1 && x < 2){ctx.strokeStyle = blue}
  if(x > 2 && x < 3){ctx.strokeStyle = purple}
  if(x > 3 && x < 4){ctx.strokeStyle = black}
}

// Choose random color for canvas background
function changeBackground() {
  let x = Math.random()*4;
  if(x > 0 && x < 1){canvas.style.backgroundColor = bgGreen}
  if(x > 1 && x < 2){canvas.style.backgroundColor = bgBlue}
  if(x > 2 && x < 3){canvas.style.backgroundColor = bgPurple}
  if(x > 3 && x < 4){canvas.style.backgroundColor = bgGray}
}

// Logic to change colors and reset canvas once complete
function logic(){
  if(dotY >= canvas.height/2 && dotYB <= canvas.height/2){
    //ctx.clearRect(0, 0, canvas.width, canvas.height);
    changeBackground();
    dotY = dotYReset;
    dotYB = dotYResetB;
  }
}


// Animate ================================================ //

//variables to control FPS
var fps, fpsInterval, startTime, now, then, elapsed;
fps = 80;
fpsInterval = 1000 / fps;
then = Date.now();
startTime = then;


function animate(){
  now = Date.now();
  elapsed = now - then;
  if (elapsed > fpsInterval) {
    then = now - (elapsed % fpsInterval);

    // the animation code
    //ctx.clearRect(0, 0, canvas.width, canvas.height);
    logic();
    drawLotsOfDotsTop();
    drawLotsOfDotsBottom();



  } // if(elapsed > fpsInterval)
  requestAnimationFrame(animate);
} // animate();
animate();


</script>
